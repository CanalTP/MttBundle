
Confluence TODOs
-------------

http://confluence.canaltp.fr/display/METH/TODOS

Generate this SQL Dump
----------------------

CREATE SEQUENCE line_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE stop_point_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE block_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE timetable_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE network_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE line (id INT NOT NULL, external_coverage_id VARCHAR(255) NOT NULL, external_network_id VARCHAR(255) NOT NULL, external_id VARCHAR(255) NOT NULL, layout VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE stop_point (id INT NOT NULL, external_id VARCHAR(255) NOT NULL, pdf_generation_date TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE block (id INT NOT NULL, timetable_id INT DEFAULT NULL, stop_point_id INT DEFAULT NULL, type_id VARCHAR(255) NOT NULL, dom_id VARCHAR(128) NOT NULL, content TEXT NOT NULL, title VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_831B9722CC306847 ON block (timetable_id);
CREATE INDEX IDX_831B972212829449 ON block (stop_point_id);
CREATE TABLE timetable (id INT NOT NULL, externalRouteId VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE network (id INT NOT NULL, external_id VARCHAR(255) NOT NULL, external_coverage_id VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE users_networks (network_id INT NOT NULL, user_id INT NOT NULL, PRIMARY KEY(network_id, user_id));
CREATE INDEX IDX_A2F89FF134128B91 ON users_networks (network_id);
CREATE INDEX IDX_A2F89FF1A76ED395 ON users_networks (user_id);
ALTER TABLE block ADD CONSTRAINT FK_831B9722CC306847 FOREIGN KEY (timetable_id) REFERENCES timetable (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE block ADD CONSTRAINT FK_831B972212829449 FOREIGN KEY (stop_point_id) REFERENCES stop_point (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE users_networks ADD CONSTRAINT FK_A2F89FF134128B91 FOREIGN KEY (network_id) REFERENCES network (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE users_networks ADD CONSTRAINT FK_A2F89FF1A76ED395 FOREIGN KEY (user_id) REFERENCES public.t_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
