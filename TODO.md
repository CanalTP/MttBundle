
Confluence TODOs
-------------

http://confluence.canaltp.fr/display/METH/TODOS

Generate this SQL Dump
----------------------

CREATE SEQUENCE line_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE stop_point_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE Block_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE network_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE SEQUENCE Route_id_seq INCREMENT BY 1 MINVALUE 1 START 1;
CREATE TABLE line (id INT NOT NULL, external_coverage_id VARCHAR(255) NOT NULL, external_network_id VARCHAR(255) NOT NULL, external_id VARCHAR(255) NOT NULL, layout VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE stop_point (id INT NOT NULL, external_id VARCHAR(255) NOT NULL, pdf_generation_date TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE Block (id INT NOT NULL, route_id INT DEFAULT NULL, stop_point_id INT DEFAULT NULL, type_id VARCHAR(255) NOT NULL, dom_id VARCHAR(128) NOT NULL, content TEXT NOT NULL, title VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE INDEX IDX_42DAB82634ECB4E6 ON Block (route_id);
CREATE INDEX IDX_42DAB82612829449 ON Block (stop_point_id);
CREATE TABLE network (id INT NOT NULL, external_id VARCHAR(255) NOT NULL, external_coverage_id VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
CREATE TABLE users_networks (user_id INT NOT NULL, network_id INT NOT NULL, PRIMARY KEY(user_id, network_id));
CREATE INDEX IDX_A2F89FF1A76ED395 ON users_networks (user_id);
CREATE INDEX IDX_A2F89FF134128B91 ON users_networks (network_id);
CREATE TABLE Route (id INT NOT NULL, external_id VARCHAR(255) NOT NULL, created TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, updated TIMESTAMP(0) WITHOUT TIME ZONE NOT NULL, PRIMARY KEY(id));
ALTER TABLE Block ADD CONSTRAINT FK_42DAB82634ECB4E6 FOREIGN KEY (route_id) REFERENCES Route (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE Block ADD CONSTRAINT FK_42DAB82612829449 FOREIGN KEY (stop_point_id) REFERENCES stop_point (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE users_networks ADD CONSTRAINT FK_A2F89FF1A76ED395 FOREIGN KEY (network_id) REFERENCES network (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
ALTER TABLE users_networks ADD CONSTRAINT FK_A2F89FF134128B91 FOREIGN KEY (user_id) REFERENCES public.t_user (id) NOT DEFERRABLE INITIALLY IMMEDIATE;
